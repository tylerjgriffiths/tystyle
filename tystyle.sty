%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Define information about the package. %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\providecommand{\@PackageName}{tystyle}
\providecommand{\@PackageDesc}{Personal stylings and standard packages}
\providecommand{\@PackageVer}{0.1}
\providecommand{\@PackageDate}{2018-11-18}


\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{\@PackageName}[\@PackageDate{} \@PackageVer{} \@PackageDesc{}]

%%%%%%%%%%%%%%%%%%%%%%%%
%% Internal functions %%
%%%%%%%%%%%%%%%%%%%%%%%%

%% Write a package info message to the compile log.
\providecommand{\@say}[1]{\PackageInfo{\PackageName \PackageVersion}{{#1}}}
    
%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Declare conditionals %%
%%%%%%%%%%%%%%%%%%%%%%%%%%

\newif\ifpackageonly\packageonlyfalse


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Declare and process options %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\DeclareOption{packageonly}{
  %% Only include packages, without modifying style.
  \packageonlytrue
}

\ProcessOptions\relax

%%%%%%%%%%%%%%%%%%%%%%%
%% Include packages. %%
%%%%%%%%%%%%%%%%%%%%%%%

%% Well-set tables
\RequirePackage{tabularx}
\RequirePackage{booktabs}

%% Typeset units well.
\RequirePackage{siunitx}
%% Declare some convenient unit shortcuts.
%% The kilojoule per mole
\DeclareSIUnit{\kjpm}{\kilo\joule\per\mole}
%% The Hartree
\DeclareSIUnit{\hartree}{Ha}
\DeclareSIUnit{\Ha}{\hartree}
%% Shortcut for degrees C.
\DeclareSIUnit{\dC}{\celsius}
%% The tesla
\DeclareSIUnit{\T}{\tesla}
\DeclareSIUnit{\rad}{\radian}

%% Chemical typesetting
\RequirePackage[version=4]{mhchem}

%% Chemical macros
\RequirePackage{chemmacros}

%% A personal package to speed up mathsetting.
\RequirePackage{easymath} 

%% Drawing vector diagrams
\RequirePackage{tikz}
%% TikZ-based circuit diagrams
\RequirePackage{circuitikz}

%% Simplify defining word-replacement macros.
\RequirePackage{xspace}

%%%%%%%%%%%%%%%
%% Shortcuts %%
%%%%%%%%%%%%%%%

%% \os as a shortcut to \oldstylenums
\let\os\oldstylenums

%%%%%%%%%%%%%%%%%
%% Definitions %%
%%%%%%%%%%%%%%%%%

%% Standard conditions with aliases.
\providecommand{\standard}{{\ensuremath{-\kern-4pt{\ominus}\kern-4pt-}}}
\let\plimsoll\standard %% The proper name for the symbol
\let\stdc\standard %% Standard conditions.

%%%%%%%%%%%%%%%%%%% 
%% Set stylings. %%
%%%%%%%%%%%%%%%%%%%

\ifpackageonly
\@say{Only including packages, no style changes.}
\else

%% Garamond as main and math font.
\RequirePackage{garamondx}
\RequirePackage[garamondx]{newtxmath}

%% Make small microtypographical improvements
\RequirePackage{microtype}

%% Modify the appearance of captions.
\RequirePackage[labelfont=bf, margin=2em]{caption}

%% Swap \epsilon and \varepsilon
\let\epstmp\epsilon
\let\epsilon\varepsilon
\let\varepsilon\epstmp
\let\epstmp\undefined

\fi
